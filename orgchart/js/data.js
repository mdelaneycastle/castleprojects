// Organizational Chart Data
// Generated on 21/01/2026
// Based on chart.csv structure

const orgData = {
  "id": "ceo",
  "name": "Ian Weatherby-Blythe",
  "title": "Group CEO",
  "email": "ian@washingtongreen.co.uk",
  "phone": "+44 XXXX XXX XXX",
  "department": "Executive",
  "avatar": "images/avatars/ian-weatherby-blythe.png",
  "children": [
    {
      "id": "brand-program-manager",
      "name": "Andrew White",
      "title": "Brand Program Manager",
      "email": "awhite@castlefineart.com",
      "phone": "+44 XXXX XXX XXX",
      "department": "Executive",
      "avatar": "images/avatars/andrew-white.png",
      "children": []
    },
    {
      "id": "creative-director",
      "name": "Frankie Washington",
      "title": "Creative Director",
      "email": "fwashington@castlefineart.com",
      "phone": "+44 XXXX XXX XXX",
      "department": "APM / Creative Team",
      "avatar": "images/avatars/frankie-washington.png",
      "children": [
        {
          "id": "production-manager",
          "name": "Andy Hoccom",
          "title": "Production Manager",
          "email": "ahoccom@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "APM / Creative Team",
          "avatar": "images/avatars/andy-hoccom.png",
          "children": []
        },
        {
          "id": "senior-apm-beth",
          "name": "Beth Evans",
          "title": "Senior APM",
          "email": "bevans@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "APM / Creative Team",
          "avatar": "images/avatars/beth-evans.png",
          "children": []
        },
        {
          "id": "senior-apm-ellie",
          "name": "Ellie Newman",
          "title": "Senior APM",
          "email": "enewman@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "APM / Creative Team",
          "avatar": "images/avatars/ellie-newman.png",
          "children": []
        },
        {
          "id": "senior-apm-steve",
          "name": "Steve Hobbis",
          "title": "Senior APM",
          "email": "shobbis@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "APM / Creative Team",
          "avatar": "images/avatars/steve-hobbis.png",
          "children": []
        },
        {
          "id": "junior-apm-rae",
          "name": "Rae Holland",
          "title": "Junior APM",
          "email": "rholland@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "APM / Creative Team",
          "avatar": "images/avatars/rae-holland.png",
          "children": []
        }
      ]
    },
    {
      "id": "head-of-marketing",
      "name": "Alex Duffy",
      "title": "Head of Marketing",
      "email": "aduffy@castlefineart.com",
      "phone": "+44 XXXX XXX XXX",
      "department": "Marketing",
      "avatar": "images/avatars/alex-duffy.png",
      "teamInOther": true,
      "children": [
        {
          "id": "marketing-manager",
          "name": "Mike Perry",
          "title": "Marketing Manager",
          "email": "mperry@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Marketing",
          "avatar": "images/avatars/mike-perry.png",
          "showAsManager": true,
          "children": []
        },
        {
          "id": "studio-manager",
          "name": "Ak Suggi",
          "title": "Studio Manager",
          "email": "asuggi@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Marketing",
          "avatar": "images/avatars/ak-suggi.png",
          "children": [
            {
              "id": "senior-designer",
              "name": "Matt Johnson",
              "title": "Senior Designer",
              "email": "mjohnson@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Marketing",
              "avatar": "images/avatars/matt-johnson.png",
              "children": [
                {
                  "id": "graphic-designer",
                  "name": "Christy Guan",
                  "title": "Graphic Designer",
                  "email": "cguan@castlefineart.com",
                  "phone": "+44 XXXX XXX XXX",
                  "department": "Marketing",
                  "avatar": "images/avatars/christy-guan.png",
                  "children": []
                },
                {
                  "id": "digital-designer",
                  "name": "George Wilson",
                  "title": "Digital Designer",
                  "email": "gwilson@castlefineart.com",
                  "phone": "+44 XXXX XXX XXX",
                  "department": "Marketing",
                  "avatar": "images/avatars/george-wilson.png",
                  "children": []
                }
              ]
            },
            {
              "id": "creative-videography",
              "name": "Zac Bowen",
              "title": "Creative Videography",
              "email": "zbowen@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Marketing",
              "avatar": "images/avatars/zac-bowen.png",
              "children": []
            }
          ]
        },
        {
          "id": "digital-marketing-lead",
          "name": "Rachel Clifford",
          "title": "Digital Marketing & Growth Lead",
          "email": "rclifford@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Marketing",
          "avatar": "images/avatars/rachel-clifford.png",
          "children": []
        },
        {
          "id": "social-email-lead",
          "name": "Imogen Cranston",
          "title": "Social & Email Engagement Lead",
          "email": "icranston@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Marketing",
          "avatar": "images/avatars/imogen-cranston.png",
          "children": []
        },
        {
          "id": "paid-organic-specialist",
          "name": "Fariha Rahman",
          "title": "Paid & Organic Acquisitions Specialist",
          "email": "frahman@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Marketing",
          "avatar": "images/avatars/fariha-rahman.png",
          "children": []
        }
      ]
    },
    {
      "id": "head-of-program-amlro",
      "name": "James Shepherd",
      "title": "Head of Program & AMLRO",
      "email": "jshepherd@castlefineart.com",
      "phone": "+44 XXXX XXX XXX",
      "department": "AML & Compliance",
      "avatar": "images/avatars/james-shepherd.png",
      "children": [
        {
          "id": "deputy-amlro",
          "name": "Neil Fox-Hammond",
          "title": "Deputy AMLRO / Compliance Manager",
          "email": "nfox-hammond@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "AML & Compliance",
          "avatar": "images/avatars/neil-fox-hammond.jpg",
          "children": [
            {
              "id": "compliance-admin",
              "name": "Cristina Bulat",
              "title": "Compliance Administrator",
              "email": "cbulat@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "AML & Compliance",
              "avatar": "images/avatars/cristina-bulat.png",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "id": "head-of-it",
      "name": "Andy Young",
      "title": "Head of IT",
      "email": "ayoung@castlefineart.com",
      "phone": "+44 XXXX XXX XXX",
      "department": "IT / Systems",
      "avatar": "images/avatars/andy-young.png",
      "children": [
        {
          "id": "it-developer",
          "name": "Tauseef Mukhtar",
          "title": "IT Developer",
          "email": "tmukhtar@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "IT / Systems",
          "avatar": "images/avatars/tauseef-mukhtar.png",
          "children": []
        }
      ]
    },
    {
      "id": "head-of-ecommerce",
      "name": "Lucinda Moyne",
      "title": "Head of E-commerce",
      "email": "lmoyne@castlefineart.com",
      "phone": "+44 XXXX XXX XXX",
      "department": "E-commerce",
      "avatar": "images/avatars/lucinda-moyne.png",
      "children": [
        {
          "id": "tom-coyne",
          "name": "Tom Coyne",
          "title": "E-commerce",
          "email": "tcoyne@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "E-commerce",
          "avatar": "images/avatars/tom-coyne.png",
          "children": [
            {
              "id": "ecommerce-manager",
              "name": "Matt Watkins",
              "title": "E-Commerce Manager",
              "email": "mwatkins@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "E-commerce",
              "avatar": "images/avatars/matt-watkins.png",
              "children": [
                {
                  "id": "website-merchandiser",
                  "name": "Mariana Rijo",
                  "title": "Website Merchandiser",
                  "email": "mrijo@castlefineart.com",
                  "phone": "+44 XXXX XXX XXX",
                  "department": "E-commerce",
                  "avatar": "images/avatars/mariana-rijo.png",
                  "children": []
                },
                {
                  "id": "website-developer",
                  "name": "Octavian David",
                  "title": "Website Developer",
                  "email": "odavid@castlefineart.com",
                  "phone": "+44 XXXX XXX XXX",
                  "department": "E-commerce",
                  "avatar": "images/avatars/octavian-david.png",
                  "children": []
                }
              ]
            },
            {
              "id": "sales-manager",
              "name": "Ashleigh Wright",
              "title": "Sales Manager",
              "email": "awright@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "E-commerce",
              "avatar": "images/avatars/ashleigh-wright.png",
              "children": [
                {
                  "id": "art-consultant-team",
                  "name": "Art Consultants",
                  "title": "Art Consultant Team",
                  "email": "artconsultants@castlefineart.com",
                  "phone": "+44 XXXX XXX XXX",
                  "department": "E-commerce",
                  "avatar": "images/avatars/art-consultants.png",
                  "isTeam": true,
                  "children": []
                }
              ]
            },
            {
              "id": "senior-client-manager",
              "name": "Ian Columbell",
              "title": "Senior Client Manager",
              "email": "icolumbell@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "E-commerce",
              "avatar": "images/avatars/ian-columbell.png",
              "children": [
                {
                  "id": "client-manager-team",
                  "name": "Client Managers",
                  "title": "Client Manager Team",
                  "email": "clientmanagers@castlefineart.com",
                  "phone": "+44 XXXX XXX XXX",
                  "department": "E-commerce",
                  "avatar": "images/avatars/client-managers.png",
                  "isTeam": true,
                  "children": []
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "head-of-retail",
      "name": "Jon Marsh",
      "title": "Head of Retail",
      "email": "jmarsh@castlefineart.com",
      "phone": "+44 XXXX XXX XXX",
      "department": "Retail",
      "avatar": "images/avatars/jon-marsh.png",
      "children": [
        {
          "id": "retail-technology",
          "name": "Marc Delaney",
          "title": "Retail Technology",
          "email": "mdelaney@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Retail Support",
          "avatar": "images/avatars/marc-delaney.png",
          "children": []
        },
        {
          "id": "pre-sales-manager",
          "name": "Amanda",
          "title": "Pre Sales Manager / Senior Merch",
          "email": "amanda@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Pre Sales",
          "avatar": "images/avatars/amanda.png",
          "children": [
            {
              "id": "merch-eve",
              "name": "Eve",
              "title": "Merch",
              "email": "eve@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Pre Sales",
              "avatar": "images/avatars/eve.png",
              "children": []
            },
            {
              "id": "merch-islay",
              "name": "Islay",
              "title": "Merch",
              "email": "islay@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Pre Sales",
              "avatar": "images/avatars/islay.png",
              "children": []
            },
            {
              "id": "halcyon-mech-admin",
              "name": "Raksha",
              "title": "Halcyon Mech/Admin",
              "email": "raksha@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Pre Sales",
              "avatar": "images/avatars/raksha.png",
              "children": []
            },
            {
              "id": "merch-admin-zoe",
              "name": "Zoe",
              "title": "Merch Admin",
              "email": "zoe@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Pre Sales",
              "avatar": "images/avatars/zoe.png",
              "children": []
            },
            {
              "id": "retail-support-originals",
              "name": "Alex B",
              "title": "Retail Support Originals",
              "email": "ab@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Pre Sales",
              "avatar": "images/avatars/alex-b.png",
              "children": []
            },
            {
              "id": "client-services-abigail",
              "name": "Abigail Easson",
              "title": "Client Services",
              "email": "aeasson@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Pre Sales",
              "avatar": "images/avatars/abigail-easson.png",
              "children": []
            },
            {
              "id": "gallery-support-katie",
              "name": "Katie Lewis",
              "title": "Gallery Support Call Enq Admin",
              "email": "klewis@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Pre Sales",
              "avatar": "images/avatars/katie-lewis.png",
              "children": []
            }
          ]
        },
        {
          "id": "post-sales-manager",
          "name": "Paul Chapman",
          "title": "Post Sales Manager Order Pro",
          "email": "pchapman@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Post Sales",
          "avatar": "images/avatars/paul-chapman.png",
          "children": [
            {
              "id": "post-sales-supervisor",
              "name": "Jenny Peet",
              "title": "Post Sales Supervisor Order Pro",
              "email": "jpeet@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Post Sales",
              "avatar": "images/avatars/jenny-peet.png",
              "children": []
            },
            {
              "id": "web-senior-post-sales",
              "name": "Gerald Hooper",
              "title": "Web Senior Post Sales",
              "email": "ghooper@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Post Sales",
              "avatar": "images/avatars/gerald-hooper.png",
              "children": []
            },
            {
              "id": "post-sales-tara",
              "name": "Tara Platts",
              "title": "Post Sales Order Pro",
              "email": "tplatts@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Post Sales",
              "avatar": "images/avatars/tara-platts.png",
              "children": []
            },
            {
              "id": "post-sales-philippa",
              "name": "Philippa Beevor-Reed",
              "title": "Post Sales Order Pro",
              "email": "pbeevor-reed@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Post Sales",
              "avatar": "images/avatars/philippa-beevor-reed.png",
              "children": []
            },
            {
              "id": "post-sales-amelia",
              "name": "Amelia Rush",
              "title": "Post Sales Order Pro",
              "email": "arush@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Post Sales",
              "avatar": "images/avatars/amelia-rush.png",
              "children": []
            }
          ]
        },
        {
          "id": "head-of-inventory",
          "name": "Matt King",
          "title": "Head of Inventory",
          "email": "mking@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Retail",
          "avatar": "images/avatars/matt-king.png",
          "children": [
            {
              "id": "head-stock-control",
              "name": "Martin Sumner",
              "title": "Head of Stock Control",
              "email": "msumner@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Inventory",
              "avatar": "images/avatars/martin-sumner.png",
              "children": [
            {
              "id": "head-original-stock",
              "name": "Lecia Fox-Hammond",
              "title": "Head Original Stock Control",
              "email": "lfox-hammond@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Inventory",
              "avatar": "images/avatars/lecia-fox-hammond.jpg",
              "children": []
            },
            {
              "id": "stock-control-supervisor",
              "name": "Jess Smith",
              "title": "Stock Control Supervisor",
              "email": "jsmith@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Inventory",
              "avatar": "images/avatars/jess-smith.png",
              "children": []
            },
            {
              "id": "stock-control-james",
              "name": "James Denning",
              "title": "Stock Control",
              "email": "jdenning@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Inventory",
              "avatar": "images/avatars/james-denning.png",
              "children": []
            },
            {
              "id": "stock-controller-wayne",
              "name": "Wayne Page",
              "title": "Stock Controller",
              "email": "wpage@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Inventory",
              "avatar": "images/avatars/wayne-page.png",
              "children": []
            },
            {
              "id": "stock-controller-mark",
              "name": "Mark Halpin",
              "title": "Stock Controller",
              "email": "mhalpin@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Inventory",
              "avatar": "images/avatars/mark-halpin.png",
              "children": []
            },
            {
              "id": "stock-controller-jim",
              "name": "Jim O'Cleary",
              "title": "Stock Controller",
              "email": "jocleary@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Inventory",
              "avatar": "images/avatars/jim-ocleary.png",
              "children": []
            },
            {
              "id": "stock-controller-sam",
              "name": "Sam Keen",
              "title": "Stock Controller",
              "email": "skeen@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Inventory",
              "avatar": "images/avatars/sam-keen.png",
              "children": []
            },
            {
              "id": "merch-admin-mike",
              "name": "Mike O'C",
              "title": "Merch Admin",
              "email": "moc@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Inventory",
              "avatar": "images/avatars/mike-oc.png",
              "children": []
            },
            {
              "id": "pre-sales-stock-admin",
              "name": "Helen G",
              "title": "Pre Sales Stock Administrator",
              "email": "hg@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Inventory",
              "avatar": "images/avatars/helen-g.png",
              "children": []
            }
              ]
            }
          ]
        },
        {
          "id": "client-manager-dawn",
          "name": "Dawn Miles",
          "title": "Client Manager",
          "email": "dmiles@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Client Services",
          "avatar": "images/avatars/dawn-miles.png",
          "children": [
            {
              "id": "gallery-support-gemma",
              "name": "Gemma Blythe",
              "title": "Gallery Support Call Enq Admin",
              "email": "gblythe@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Client Services",
              "avatar": "images/avatars/gemma-blythe.png",
              "children": []
            }
          ]
        },
        {
          "id": "data-analyst",
          "name": "Ikra",
          "title": "Data Analyst",
          "email": "ikra@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Retail Analysis",
          "avatar": "images/avatars/ikra.png",
          "children": []
        },
        {
          "id": "data-performance-analysis",
          "name": "Illona",
          "title": "Data Performance Analysis",
          "email": "illona@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Retail Analysis",
          "avatar": "images/avatars/illona.png",
          "children": []
        }
      ]
    },
    {
      "id": "head-of-operations",
      "name": "Gary Turpin",
      "title": "Head Of Operations",
      "email": "gturpin@castlefineart.com",
      "phone": "+44 XXXX XXX XXX",
      "department": "Operations",
      "avatar": "images/avatars/gary-turpin.png",
      "children": [
        {
          "id": "head-manufacture-qc",
          "name": "Martin Harrison",
          "title": "Head of Manufacture & QC",
          "email": "mharrison@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Manufacture & Quality Control",
          "avatar": "images/avatars/martin-harrison.png",
          "children": [
            {
              "id": "frame-production-manager",
              "name": "Gary Day",
              "title": "Frame Production Manager",
              "email": "gday@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Framing Finishing",
              "avatar": "images/avatars/gary-day.png",
              "children": []
            },
            {
              "id": "framing-supervisor-shop",
              "name": "Bill Chand",
              "title": "Framing Supervisor (Shop Floor)",
              "email": "bchand@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Framing Finishing",
              "avatar": "images/avatars/bill-chand.png",
              "children": []
            }
          ]
        },
        {
          "id": "logistics-manager",
          "name": "Stuart Whitehouse",
          "title": "Logistics Manager",
          "email": "swhitehouse@castlefineart.com",
          "phone": "+44 XXXX XXX XXX",
          "department": "Logistics",
          "avatar": "images/avatars/stuart-whitehouse.png",
          "children": [
            {
              "id": "shipping-supervisor",
              "name": "Nathan Smethurst",
              "title": "Shipping Supervisor",
              "email": "nsmethurst@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Logistics",
              "avatar": "images/avatars/nathan-smethurst.png",
              "children": []
            },
            {
              "id": "logistics-admin",
              "name": "Zara Chauldrey",
              "title": "Logistics Admin",
              "email": "zchauldry@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Logistics",
              "avatar": "images/avatars/zara-chauldrey.png",
              "children": []
            },
            {
              "id": "senior-logistics-kryz",
              "name": "Kryz",
              "title": "Senior Logistics Operative",
              "email": "kryz@castlefineart.com",
              "phone": "+44 XXXX XXX XXX",
              "department": "Logistics",
              "avatar": "images/avatars/kryz.png",
              "children": []
            }
          ]
        }
      ]
    }
  ]
};

// Department color mapping
const departmentColors = {
  "Executive": "#f5d742",
  "APM / Creative Team": "#5b9bd5",
  "Marketing": "#5b9bd5",
  "AML & Compliance": "#9b59b6",
  "IT / Systems": "#9b59b6",
  "E-commerce": "#f4a7b9",
  "Retail": "#2c3e50",
  "Retail Support": "#34495e",
  "Pre Sales": "#34495e",
  "Post Sales": "#34495e",
  "Inventory": "#34495e",
  "Client Services": "#34495e",
  "Retail Analysis": "#34495e",
  "Operations": "#f4a7b9",
  "Manufacture & Quality Control": "#e6b8a2",
  "Framing Finishing": "#c9c9c9",
  "Logistics": "#bdd7ee"
};

// Helper function to flatten org data for search
function flattenOrgData(node, result = [], parent = null) {
  const flatNode = { ...node, parent: parent, children: undefined };
  result.push(flatNode);
  if (node.children) {
    node.children.forEach(child => flattenOrgData(child, result, node));
  }
  return result;
}

// Export for use
const allEmployees = flattenOrgData(orgData);
